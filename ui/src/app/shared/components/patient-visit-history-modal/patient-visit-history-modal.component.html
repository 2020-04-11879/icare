<mat-toolbar color="primary">
  <span>Patient History</span>
  <span class="toolbar-spacer"></span>
  <span class="float-right"></span>
  <button mat-icon-button mat-dialog-close matTooltip="close">
    <mat-icon>close</mat-icon>
  </button>
</mat-toolbar>

<mat-dialog-content
  class="mat-typography"
  *ngIf="{
    forms: forms$ | async,
    patientVisits: patientVisits$ | async
  } as params"
>
  <mat-progress-bar
    *ngIf="!params?.patientVisits || !params?.forms"
    mode="indeterminate"
  ></mat-progress-bar>
  <div
    *ngIf="
      params?.patientVisits &&
      params?.patientVisits?.length > 0 &&
      params?.forms
    "
  >
    <app-patient-visits-history
      [patientVisits]="params?.patientVisits"
      [shouldShowPatientClinicalSummary]="true"
      [forms]="params?.forms"
    ></app-patient-visits-history>
  </div>

  <p
    class="text-center text-warning p-5"
    *ngIf="params?.patientVisits && params?.patientVisits?.length === 0"
  >
    <b> No History, this is the first visit </b>
  </p>
</mat-dialog-content>
